<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vajra 2025 Uploads</title>
  <style>
    body { font-family: Arial, sans-serif; background: black; color: white; text-align: center; }
    h1 { color: yellow; }
    .upload-box { margin: 20px auto; padding: 20px; width: 60%; background: rgba(255,255,255,0.1); border-radius: 10px; }
    button { background: yellow; color: black; padding: 10px 20px; border: none; cursor: pointer; font-weight: bold; border-radius: 5px; }
    button:hover { background: orange; }
  </style>
</head>
<body>
  <h1>Vajra 2025 Upload Portal</h1>

  <div class="upload-box">
    <h3>Culturals</h3>
    <input type="file" id="culturalsFile">
    <button onclick="uploadFile('culturalsFile','1hQJZ4Zcq7FQ5QeT5o2v0ek-7QyFSm9jb')">Upload</button>
    <p id="culturalsStatus"></p>
  </div>

  <div class="upload-box">
    <h3>SICASA</h3>
    <input type="file" id="sicasaFile">
    <button onclick="uploadFile('sicasaFile','1sxGOkJw4p2VvhhhyBJSzVnkkMCQcwn2C')">Upload</button>
    <p id="sicasaStatus"></p>
  </div>

  <div class="upload-box">
    <h3>Paper Presenters</h3>
    <input type="file" id="paperFile">
    <button onclick="uploadFile('paperFile','1cFJjGhU8f1mXoev1AgEoP78yXEc5OQ6h')">Upload</button>
    <p id="paperStatus"></p>
  </div>

  <div class="upload-box">
    <h3>Chief Guests</h3>
    <input type="file" id="chiefFile">
    <button onclick="uploadFile('chiefFile','1yKqvV2YqTYx3yM6GufYFZb4jqR1iOwRr')">Upload</button>
    <p id="chiefStatus"></p>
  </div>

  <script>
    const UPLOAD_URL = "https://script.google.com/macros/s/AKfycbzE84W9li-IWypaAG4SlA78IUSP89Sm2Sh-RIFf48wvw32rSDyN9mfuqEqZzHw4DgVrJA/exec";

    async function uploadFile(inputId, folderId) {
      const fileInput = document.getElementById(inputId);
      if (fileInput.files.length === 0) {
        alert("Please select a file");
        return;
      }
      const file = fileInput.files[0];

      const reader = new FileReader();
      reader.onloadend = async function() {
        const base64Data = reader.result.split(",")[1];
        const payload = JSON.stringify({
          data: base64Data,
          type: file.type,
          name: file.name,
          folderId: folderId
        });

        try {
          const res = await fetch(UPLOAD_URL, {
            method: "POST",
            body: payload,
            headers: { "Content-Type": "text/plain" }
          });
          const text = await res.text();
          document.getElementById(inputId.replace("File", "Status")).innerText = text;
        } catch (err) {
          document.getElementById(inputId.replace("File", "Status")).innerText = "Upload failed: " + err;
        }
      };
      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
